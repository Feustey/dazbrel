<!DOCTYPE html>
<html>
<head>
    <title>Dazno - Lightning ROI Optimizer</title>
    <link rel="stylesheet" href="/static/css/dazno-theme.css">
    <script src="/static/js/dashboard.js"></script>
</head>
<body>
    <div class="dazno-container">
        <header class="dazno-header">
            <h1>Lightning ROI Dashboard</h1>
            <div class="status-indicator {{connection_status}}"></div>
        </header>
        
        <main class="dashboard-grid">
            <section class="metrics-panel">
                <h2>Node Metrics</h2>
                <div class="metric-card">
                    <span class="metric-label">Current ROI</span>
                    <span class="metric-value" data-metric="current_roi">{{current_roi}}%</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Total Channels</span>
                    <span class="metric-value" data-metric="total_channels">{{metrics.total_channels}}</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Active Channels</span>
                    <span class="metric-value" data-metric="active_channels">{{metrics.active_channels}}</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Total Capacity</span>
                    <span class="metric-value" data-metric="total_capacity">{{metrics.total_capacity}} sats</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Fees Earned (24h)</span>
                    <span class="metric-value" data-metric="fees_earned_24h">{{metrics.fees_earned_24h}} sats</span>
                </div>
            </section>
            
            <section class="node-panel">
                <h2>Node Overview</h2>
                <div class="node-grid">
                    <div class="node-item">
                        <span class="node-label">Alias</span>
                        <span class="node-value" id="node-alias">{{node.alias}}</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Pubkey</span>
                        <span class="node-value" id="node-pubkey">{{node.pubkey}}</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Version</span>
                        <span class="node-value" id="node-version">{{node.version}}</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Block Height</span>
                        <span class="node-value" id="node-block-height">{{node.block_height}}</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Sync Status</span>
                        <span class="node-value" id="node-sync">{{node.sync_status}}</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Local / Remote</span>
                        <span class="node-value" id="node-balances">{{node.local_balance}} / {{node.remote_balance}} sats</span>
                    </div>
                </div>
            </section>

            <section class="recommendations-panel">
                <h2>Active Recommendations</h2>
                {{#each recommendations}}
                <div class="recommendation-card priority-{{priority_class}}">
                    <h3>{{action_type_display}}</h3>
                    <p>{{description}}</p>
                    <div class="impact-estimate">+{{expected_roi_impact}}% ROI</div>
                    <div class="action-buttons">
                        <button class="btn-approve" data-id="{{id}}">Approve</button>
                        <button class="btn-reject" data-id="{{id}}">Reject</button>
                    </div>
                </div>
                {{/each}}
                {{#unless recommendations}}
                <div class="no-recommendations">
                    <p>No recommendations available at the moment.</p>
                </div>
                {{/unless}}
            </section>

            <section class="network-panel">
                <h2>Lightning Network Snapshot</h2>
                <div class="node-grid">
                    <div class="node-item">
                        <span class="node-label">Routing Success</span>
                        <span class="node-value" id="network-success">{{network.routing_success}}%</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Avg Fee Rate</span>
                        <span class="node-value" id="network-fee">{{network.avg_fee_rate}} ppm</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Network Capacity</span>
                        <span class="node-value" id="network-capacity">{{network.capacity}} sats</span>
                    </div>
                    <div class="node-item">
                        <span class="node-label">Active Peers</span>
                        <span class="node-value" id="network-peers">{{network.active_peers}}</span>
                    </div>
                </div>
                <div class="network-list">
                    <h3>Top Peers</h3>
                    <ul>
                        {{#each network.top_peers}}
                        <li>
                            <span class="peer-name">{{alias}}</span>
                            <span class="peer-detail">{{capacity}} sats Â· {{balance_ratio}}% local</span>
                        </li>
                        {{/each}}
                    </ul>
                </div>
            </section>
        </main>
        
        <nav class="bottom-nav">
            <a href="/" class="nav-item active">Dashboard</a>
            <a href="/recommendations" class="nav-item">Recommendations</a>
            <a href="/history" class="nav-item">History</a>
            <a href="/settings" class="nav-item">Settings</a>
        </nav>
    </div>
</body>
</html>
