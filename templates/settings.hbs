<!DOCTYPE html>
<html>
<head>
    <title>Dazno - Settings</title>
    <link rel="stylesheet" href="/static/css/dazno-theme.css">
    <script src="/static/js/settings.js"></script>
</head>
<body>
    <div class="dazno-container">
        <header class="dazno-header">
            <h1>Settings</h1>
            <div class="status-indicator {{connection_status}}"></div>
        </header>
        
        <main class="settings-main">
            <section class="settings-section">
                <h2>MCP Configuration</h2>
                <div class="settings-form">
                    <div class="form-group">
                        <label for="mcp-url">MCP API URL</label>
                        <input type="url" id="mcp-url" value="{{mcp_api_url}}" />
                    </div>
                    <div class="form-group">
                        <label for="mcp-key">API Key (Optional)</label>
                        <input type="password" id="mcp-key" placeholder="Enter API key..." />
                    </div>
                    <div class="form-group">
                        <label for="polling-interval">Polling Interval (seconds)</label>
                        <input type="number" id="polling-interval" value="{{polling_interval}}" min="30" max="3600" />
                    </div>
                </div>
            </section>
            
            <section class="settings-section">
                <h2>Risk Management</h2>
                <div class="settings-form">
                    <div class="form-group">
                        <label for="max-channel-size">Max Channel Size (sats)</label>
                        <input type="number" id="max-channel-size" value="{{max_channel_size}}" />
                    </div>
                    <div class="form-group">
                        <label for="auto-approve">Auto-approve low-risk actions</label>
                        <input type="checkbox" id="auto-approve" {{#if auto_approve_enabled}}checked{{/if}} />
                    </div>
                    <div class="form-group">
                        <label for="confirmation-required">Require confirmation for high-impact actions</label>
                        <input type="checkbox" id="confirmation-required" {{#if confirmation_required}}checked{{/if}} />
                    </div>
                </div>
            </section>
            
            <section class="settings-section">
                <h2>Notifications</h2>
                <div class="settings-form">
                    <div class="form-group">
                        <label for="email-notifications">Email notifications</label>
                        <input type="checkbox" id="email-notifications" {{#if email_notifications}}checked{{/if}} />
                    </div>
                    <div class="form-group">
                        <label for="notification-email">Email address</label>
                        <input type="email" id="notification-email" value="{{notification_email}}" />
                    </div>
                    <div class="form-group">
                        <label for="alert-threshold">ROI impact alert threshold (%)</label>
                        <input type="number" id="alert-threshold" value="{{alert_threshold}}" min="0" max="100" step="0.1" />
                    </div>
                </div>
            </section>
            
            <section class="settings-section">
                <h2>System Status</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">LND Connection</span>
                        <span class="status-value {{lnd_status}}">{{lnd_status_text}}</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">MCP Connection</span>
                        <span class="status-value {{mcp_status}}">{{mcp_status_text}}</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Last Sync</span>
                        <span class="status-value">{{last_sync}}</span>
                    </div>
                </div>
            </section>
            
            <div class="settings-actions">
                <button class="btn-primary" id="save-settings">Save Settings</button>
                <button class="btn-secondary" id="test-connection">Test Connections</button>
                <button class="btn-danger" id="reset-settings">Reset to Defaults</button>
            </div>
        </main>
        
        <nav class="bottom-nav">
            <a href="/" class="nav-item">Dashboard</a>
            <a href="/recommendations" class="nav-item">Recommendations</a>
            <a href="/history" class="nav-item">History</a>
            <a href="/settings" class="nav-item active">Settings</a>
        </nav>
    </div>
</body>
</html>